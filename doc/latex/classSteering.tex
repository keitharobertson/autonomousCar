\hypertarget{classSteering}{\section{Steering Class Reference}
\label{classSteering}\index{Steering@{Steering}}
}


\hyperlink{classSteering}{Steering} control.  




{\ttfamily \#include $<$Steering.\-h$>$}

Inheritance diagram for Steering\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classSteering}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSteering_a45a5ff1a1869073a2165680f853b9c41}{Steering} ()
\begin{DoxyCompactList}\small\item\em \hyperlink{classSteering}{Steering} default constructor. \end{DoxyCompactList}\item 
\hyperlink{classSteering_a0cf29a86402af78c57edd2d3aaeaf558}{$\sim$\-Steering} ()
\begin{DoxyCompactList}\small\item\em \hyperlink{classSteering}{Steering} destructor. \end{DoxyCompactList}\item 
void \hyperlink{classSteering_a57a8011d7d5a4ca608b1b140e21233cb}{init\-\_\-device} ()
\begin{DoxyCompactList}\small\item\em initialize the steering \end{DoxyCompactList}\item 
void \hyperlink{classSteering_a5b7b0a053607ad891b7d2826093da6ac}{mech\-\_\-control} ()
\begin{DoxyCompactList}\small\item\em the mechanical controller function for the steering. \end{DoxyCompactList}\item 
void \hyperlink{classSteering_a0ae09490e872d21d211ddfdc446d14d1}{mech\-\_\-command} (char $\ast$value)
\begin{DoxyCompactList}\small\item\em The mechanical command function issues commands directly to the steering hardware. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{classSteering_afda4f2951e5be114abf988a8e5943a96}{read\-\_\-data} (int command)
\begin{DoxyCompactList}\small\item\em Reads in data from message to steering. \end{DoxyCompactList}\item 
void \hyperlink{classSteering_a29e46d1b87ecda7807452ad67005efe1}{handle\-\_\-message} (\hyperlink{SUBSYS__COMMANDS_8h_ad814416fc1a8c675bea2687d96088a8f}{M\-E\-S\-S\-A\-G\-E} $\ast$message)
\begin{DoxyCompactList}\small\item\em Handles message sent to steering. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classSteering_aa0f0e87b925f860575429668a9a84e8d}{set\-\_\-new\-\_\-pwm\-\_\-duty\-\_\-cycle} (const char $\ast$value)
\begin{DoxyCompactList}\small\item\em Sets the steering P\-W\-M duty cycle. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classSteering_ab31761e4665bf81e580f1bc32c9fff79}{min\-\_\-priority}
\item 
char \hyperlink{classSteering_a3eb0bda8706c97d35c0ae31daeefa5a1}{steering\-\_\-duty\-\_\-cycle} \mbox{[}2\mbox{]}
\item 
sem\-\_\-t \hyperlink{classSteering_af9a4f30e9dc0dc37b31a421cb88ca8ba}{steer\-\_\-cmd\-\_\-ctrl}
\item 
int \hyperlink{classSteering_ae85b07902746525a57bf049d872b4f26}{steering\-\_\-fd}
\item 
char \hyperlink{classSteering_adfe05011b3442b1b24cd9dfc1e24ad70}{steering\-\_\-filepath} \mbox{[}40\mbox{]}
\item 
char \hyperlink{classSteering_a8372fdfcf95f814d8e6a77f10b1116fe}{input\-\_\-data} \mbox{[}6\mbox{]}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
\hyperlink{classSteering}{Steering} control. 

receives steering control commands and commands the servo accordingly 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classSteering_a45a5ff1a1869073a2165680f853b9c41}{\index{Steering@{Steering}!Steering@{Steering}}
\index{Steering@{Steering}!Steering@{Steering}}
\subsubsection[{Steering}]{\setlength{\rightskip}{0pt plus 5cm}Steering\-::\-Steering (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classSteering_a45a5ff1a1869073a2165680f853b9c41}


\hyperlink{classSteering}{Steering} default constructor. 

sets subsystem parameters and sets up the motor command-\/control sync semaphore \hypertarget{classSteering_a0cf29a86402af78c57edd2d3aaeaf558}{\index{Steering@{Steering}!$\sim$\-Steering@{$\sim$\-Steering}}
\index{$\sim$\-Steering@{$\sim$\-Steering}!Steering@{Steering}}
\subsubsection[{$\sim$\-Steering}]{\setlength{\rightskip}{0pt plus 5cm}Steering\-::$\sim$\-Steering (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classSteering_a0cf29a86402af78c57edd2d3aaeaf558}


\hyperlink{classSteering}{Steering} destructor. 

closes the steering file descriptor (the S\-P\-I file descriptor) 

\subsection{Member Function Documentation}
\hypertarget{classSteering_a29e46d1b87ecda7807452ad67005efe1}{\index{Steering@{Steering}!handle\-\_\-message@{handle\-\_\-message}}
\index{handle\-\_\-message@{handle\-\_\-message}!Steering@{Steering}}
\subsubsection[{handle\-\_\-message}]{\setlength{\rightskip}{0pt plus 5cm}void Steering\-::handle\-\_\-message (
\begin{DoxyParamCaption}
\item[{{\bf M\-E\-S\-S\-A\-G\-E} $\ast$}]{message}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classSteering_a29e46d1b87ecda7807452ad67005efe1}


Handles message sent to steering. 

Will handle the messages sent to steering from the system controller. Messages could be from command line interface or from another subsystem. 

Implements \hyperlink{classActuator_a733c6782030e224bcef26161c77a4d96}{Actuator}.

\hypertarget{classSteering_a57a8011d7d5a4ca608b1b140e21233cb}{\index{Steering@{Steering}!init\-\_\-device@{init\-\_\-device}}
\index{init\-\_\-device@{init\-\_\-device}!Steering@{Steering}}
\subsubsection[{init\-\_\-device}]{\setlength{\rightskip}{0pt plus 5cm}void Steering\-::init\-\_\-device (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classSteering_a57a8011d7d5a4ca608b1b140e21233cb}


initialize the steering 

Responsible for setting the steering up for control by the mechanical control task. The init\-\_\-device function will set up the P\-W\-M, initialize the system variables, and perform other tasks necessary before the steering can be controlled. 

Implements \hyperlink{classActuator_a13e33ed9c5e19a52bc6d0b7e3c0dd2d7}{Actuator}.

\hypertarget{classSteering_a0ae09490e872d21d211ddfdc446d14d1}{\index{Steering@{Steering}!mech\-\_\-command@{mech\-\_\-command}}
\index{mech\-\_\-command@{mech\-\_\-command}!Steering@{Steering}}
\subsubsection[{mech\-\_\-command}]{\setlength{\rightskip}{0pt plus 5cm}void Steering\-::mech\-\_\-command (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classSteering_a0ae09490e872d21d211ddfdc446d14d1}


The mechanical command function issues commands directly to the steering hardware. 

The mechanical command function is typically called from the mech\-\_\-control function and will issue the actual commands to hardware necessary to control the steering servo. This function will write to P\-W\-M to control the steering angle. 

Implements \hyperlink{classActuator_ad9c31f9e7f06684835ae526f29d7a096}{Actuator}.

\hypertarget{classSteering_a5b7b0a053607ad891b7d2826093da6ac}{\index{Steering@{Steering}!mech\-\_\-control@{mech\-\_\-control}}
\index{mech\-\_\-control@{mech\-\_\-control}!Steering@{Steering}}
\subsubsection[{mech\-\_\-control}]{\setlength{\rightskip}{0pt plus 5cm}void Steering\-::mech\-\_\-control (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classSteering_a5b7b0a053607ad891b7d2826093da6ac}


the mechanical controller function for the steering. 

Runs in the mech\-\_\-control thread and waits for a sync semaphore before issuing a mechanical command if the steering subsystem is enabled. 

Implements \hyperlink{classActuator_a05dd923b5162ebad197fc04d07d9771f}{Actuator}.

\hypertarget{classSteering_afda4f2951e5be114abf988a8e5943a96}{\index{Steering@{Steering}!read\-\_\-data@{read\-\_\-data}}
\index{read\-\_\-data@{read\-\_\-data}!Steering@{Steering}}
\subsubsection[{read\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}void $\ast$ Steering\-::read\-\_\-data (
\begin{DoxyParamCaption}
\item[{int}]{command}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classSteering_afda4f2951e5be114abf988a8e5943a96}


Reads in data from message to steering. 

Will read data into appropriate data type and then cast to a void$\ast$ and return. The type of data received depends on the message command. For example if trying to set the steering pwm duty cycle, a three byte char$\ast$ is expected. This function will read the data in from standard in (using cin) into an appropriate datatype for the given command and will return the data to the system message handler for further processing. 

Implements \hyperlink{classActuator_a65fe83ffd7895f3ab028b87a62b3af1d}{Actuator}.

\hypertarget{classSteering_aa0f0e87b925f860575429668a9a84e8d}{\index{Steering@{Steering}!set\-\_\-new\-\_\-pwm\-\_\-duty\-\_\-cycle@{set\-\_\-new\-\_\-pwm\-\_\-duty\-\_\-cycle}}
\index{set\-\_\-new\-\_\-pwm\-\_\-duty\-\_\-cycle@{set\-\_\-new\-\_\-pwm\-\_\-duty\-\_\-cycle}!Steering@{Steering}}
\subsubsection[{set\-\_\-new\-\_\-pwm\-\_\-duty\-\_\-cycle}]{\setlength{\rightskip}{0pt plus 5cm}void Steering\-::set\-\_\-new\-\_\-pwm\-\_\-duty\-\_\-cycle (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classSteering_aa0f0e87b925f860575429668a9a84e8d}


Sets the steering P\-W\-M duty cycle. 

Sets the steering\-\_\-duty\-\_\-cycle and gives the motor\-\_\-cmd\-\_\-ctrl sync semaphore which releases the mech\-\_\-control task. 

\subsection{Member Data Documentation}
\hypertarget{classSteering_a8372fdfcf95f814d8e6a77f10b1116fe}{\index{Steering@{Steering}!input\-\_\-data@{input\-\_\-data}}
\index{input\-\_\-data@{input\-\_\-data}!Steering@{Steering}}
\subsubsection[{input\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}char Steering\-::input\-\_\-data\mbox{[}6\mbox{]}\hspace{0.3cm}{\ttfamily [protected]}}}\label{classSteering_a8372fdfcf95f814d8e6a77f10b1116fe}
a string to store input data read in by the steering subsystem until it is ready for processing \hypertarget{classSteering_ab31761e4665bf81e580f1bc32c9fff79}{\index{Steering@{Steering}!min\-\_\-priority@{min\-\_\-priority}}
\index{min\-\_\-priority@{min\-\_\-priority}!Steering@{Steering}}
\subsubsection[{min\-\_\-priority}]{\setlength{\rightskip}{0pt plus 5cm}int Steering\-::min\-\_\-priority\hspace{0.3cm}{\ttfamily [protected]}}}\label{classSteering_ab31761e4665bf81e580f1bc32c9fff79}
minimum priority for commands from other subsystems. For example if compass has priority 5, sonar has priority 2, and min\-\_\-priority is set to 3, commands from the compass will be ignored and commands from sonar will be accepted. \hypertarget{classSteering_af9a4f30e9dc0dc37b31a421cb88ca8ba}{\index{Steering@{Steering}!steer\-\_\-cmd\-\_\-ctrl@{steer\-\_\-cmd\-\_\-ctrl}}
\index{steer\-\_\-cmd\-\_\-ctrl@{steer\-\_\-cmd\-\_\-ctrl}!Steering@{Steering}}
\subsubsection[{steer\-\_\-cmd\-\_\-ctrl}]{\setlength{\rightskip}{0pt plus 5cm}sem\-\_\-t Steering\-::steer\-\_\-cmd\-\_\-ctrl\hspace{0.3cm}{\ttfamily [protected]}}}\label{classSteering_af9a4f30e9dc0dc37b31a421cb88ca8ba}
the command/control sync semaphore \hypertarget{classSteering_a3eb0bda8706c97d35c0ae31daeefa5a1}{\index{Steering@{Steering}!steering\-\_\-duty\-\_\-cycle@{steering\-\_\-duty\-\_\-cycle}}
\index{steering\-\_\-duty\-\_\-cycle@{steering\-\_\-duty\-\_\-cycle}!Steering@{Steering}}
\subsubsection[{steering\-\_\-duty\-\_\-cycle}]{\setlength{\rightskip}{0pt plus 5cm}char Steering\-::steering\-\_\-duty\-\_\-cycle\mbox{[}2\mbox{]}\hspace{0.3cm}{\ttfamily [protected]}}}\label{classSteering_a3eb0bda8706c97d35c0ae31daeefa5a1}
The current set duty cycle for the steering P\-W\-M \hypertarget{classSteering_ae85b07902746525a57bf049d872b4f26}{\index{Steering@{Steering}!steering\-\_\-fd@{steering\-\_\-fd}}
\index{steering\-\_\-fd@{steering\-\_\-fd}!Steering@{Steering}}
\subsubsection[{steering\-\_\-fd}]{\setlength{\rightskip}{0pt plus 5cm}int Steering\-::steering\-\_\-fd\hspace{0.3cm}{\ttfamily [protected]}}}\label{classSteering_ae85b07902746525a57bf049d872b4f26}
the steering file descriptor (for the P\-W\-M device) \hypertarget{classSteering_adfe05011b3442b1b24cd9dfc1e24ad70}{\index{Steering@{Steering}!steering\-\_\-filepath@{steering\-\_\-filepath}}
\index{steering\-\_\-filepath@{steering\-\_\-filepath}!Steering@{Steering}}
\subsubsection[{steering\-\_\-filepath}]{\setlength{\rightskip}{0pt plus 5cm}char Steering\-::steering\-\_\-filepath\mbox{[}40\mbox{]}\hspace{0.3cm}{\ttfamily [protected]}}}\label{classSteering_adfe05011b3442b1b24cd9dfc1e24ad70}
the filepath to the P\-W\-M device (in /dev) 

The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/home/keith/realtime/Steering.\-h\item 
/home/keith/realtime/Steering.\-cpp\end{DoxyCompactItemize}
